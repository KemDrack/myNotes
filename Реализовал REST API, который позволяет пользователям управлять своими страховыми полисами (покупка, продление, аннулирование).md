

При создании полиса я валидировал данные, сохранял их в базу, отправлял событие в Kafka и кэшировал данные в Redis для ускорения доступа. Также я оптимизировал запросы к базе данных, добавив индексы


#### **Создание нового полиса (POST /policies)**
1. **Прием запроса**: создал handler, который принимает JSON с данными о новом полисе.
2. **Валидация данных**: Проверил, что все обязательные поля заполнены (например, `userId`, `policyType`, `startDate`).
3. **Сохранение в PostgreSQL**: Вставил данные о полисе в таблицу `policies`.
4. **Отправка события в Kafka**: После успешного создания полиса отправил событие в Kafka, чтобы другие сервисы могли обработать его (например, отправить уведомление пользователю).
5. **Кэширование в Redis**: Сохранил данные о полисе в Redis, чтобы ускорить доступ к ним при последующих запросах.
6. **Возврат ответа**: Вернул клиенту JSON с данными о созданном полисе.