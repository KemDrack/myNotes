

- **Гибкая схема данных**: Факторы риска могут иметь разную структуру в зависимости от типа полиса (например, автострахование, медицинское страхование).

Структура хранения факторов риска в MongoDB:
```json
{
  "_id": "65d2f9c8b3a59e72d83a6a15",
  "user_id": 12345,
  "age": 25,
  "driving_experience": 5,
  "car_model": "BMW X5",
  "region": "Москва",
  "accidents": 1,
  "fines": 2,
  "risk_score": 1.4,
  "created_at": "2024-01-30T14:00:00Z"
}
```

Структура хранения рассчитанных тарифов:
```json
{
  "_id": "65d2f9c8b3a59e72d83a6a16",
  "user_id": 12345,
  "base_price": 10000,
  "final_price": 14000,
  "risk_factors": {
    "age_factor": 1.1,
    "experience_factor": 1.0,
    "car_factor": 1.3,
    "region_factor": 1.2,
    "accident_factor": 1.2,
    "fine_factor": 1.1
  },
  "calculated_at": "2024-01-30T14:05:00Z"
}
```












"Я интегрировал MongoDB для хранения данных о факторах риска и результатах расчетов страховых премий. Каждый документ содержит поля `factors` (например, возраст, стаж вождения) и `calculation_result` (риск-скоринг, размер премии). Для ускорения запросов я добавил индексы на `user_id` и `policy_id`. Расчеты выполняются в реальном времени: сначала система извлекает факторы риска из MongoDB, затем вызывает алгоритм расчета и сохраняет результат обратно в базу.