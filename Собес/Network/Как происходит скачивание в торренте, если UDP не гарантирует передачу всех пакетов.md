

UDP сам по себе не предоставляет надёжной доставки, но протоколы уровня приложения (такие как uTP) добавляют необходимые механизмы:
1. **Механизм подтверждений (ACK):**
    - После отправки пакета узел-отправитель ожидает подтверждения от узла-получателя.
    - Если подтверждение не получено, пакет отправляется повторно.
2. **Нумерация пакетов:**
    - Каждый пакет данных нумеруется.
    - Если пакет приходит с пропуском в номерах, принимающая сторона понимает, что какой-то пакет потерялся, и запрашивает его повторную отправку.
3. **Контроль целостности данных (Checksum):**
    - Каждый пакет сопровождается контрольной суммой, которая позволяет проверить, был ли пакет повреждён при передаче.
    - Повреждённые пакеты отбрасываются, и запрос на их повторную отправку отправляется отправителю.
4. **Пакетная передача:**
    - Файл разбивается на небольшие части (обычно 256 КБ или меньше), каждая из которых скачивается независимо.
    - Торрент-протокол контролирует целостность каждой части через **хеш-суммы** (обычно SHA-1 или SHA-256), которые указаны в `.torrent`-файле.
    - Если часть повреждена, она скачивается заново.
5. **Протокол uTP (Micro Transport Protocol):**
    - uTP — это протокол, построенный поверх UDP, который используется в некоторых торрент-клиентах (например, uTorrent).
    - uTP включает в себя механизмы контроля перегрузки сети, подтверждения доставки, повторной отправки утерянных пакетов и обеспечения надёжной передачи данных.

