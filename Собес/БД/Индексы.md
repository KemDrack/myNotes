

Индексы — это структура данных, которая используется для ускорения определения положения интересующих данных в базе. Индексы похожи на указатель в книге, который позволяет быстро найти нужную информацию, не перечитывая весь текст


Существуют различные виды индексов:

1. **B-Tree Индексы**: Наиболее распространённый тип индексов, используемый в реляционных базах данных. Структура B-Tree позволяет быстро находить записи с минимальным количеством чтений с диска. B-Tree организован как сбалансированное дерево, в котором все листья находятся на одном уровне. Это позволяет обеспечить эффективные операции поиска, вставки и удаления.
2. **Hash Индексы**: Используются для поиска по точному значению. Они работают быстрее, чем B-Tree для равенства, но не подходят для диапазонных запросов. Чаще применяются в NoSQL базах данных.
3. **Bitmap Индексы**: Подходят для столбцов с небольшим количеством уникальных значений (например, "да" или "нет"). Индексы хранятся в виде битовых карт и хорошо работают для аналитических запросов.
4. **Геопространственные Индексы**: Используются для работы с данными о местоположении, например, в системах GIS. Позволяют эффективно выполнять запросы, касающиеся пространственных данных.
5. **Составные Индексы (Compound Index)**: Индексы, которые создаются на основе нескольких столбцов таблицы. Это полезно, если часто выполняются запросы с фильтрацией по нескольким колонкам одновременно
```sql
CREATE INDEX idx_order_customer ON orders(customer_id, order_date);
```

### Как работает B-Tree под капотом?

**B-Tree** — это сбалансированное дерево, в котором каждая внутренняя нода может иметь несколько дочерних узлов. Основная идея B-Tree заключается в минимизации количества операций чтения и записи с диска, что критично для производительности баз данных.

- **Корень и узлы**: Дерево начинается с корня, который может содержать несколько ключей. В каждом узле содержится несколько ключей и указатели на дочерние узлы.
- **Листовые узлы**: В B-Tree все листовые узлы находятся на одном уровне, что позволяет выполнять поиск за логарифмическое время.
- **Вставка и удаление**: При добавлении новых ключей узлы могут переполняться, тогда дерево выполняет **разделение узла**. При удалении — узлы могут объединяться, чтобы сохранять баланс.

Благодаря своей структуре B-Tree обеспечивает эффективный доступ к данным и минимизирует количество операций чтения, что делает его идеальным для использования в базах данных.