
Транзакции — это операции над базой данных, такие как чтение, запись или модификация. Они должны быть выполнены либо полностью, либо отменены

[[ACID]]
Уровни изоляций([[Изолированность]])
[[Индексы]]
[[Виды JOIN]]
[[Оптимизация запросов и использование EXPLAIN]]
[[SQL запросы]]
[[Безопасность данных в БД]]
[[MongoDB]]
[[Вопросы с собеседований БД]]
[[ЛайфхакиБД]]
#### ⚠️ Аномалии

Аномалии в транзакциях возникают из-за недостаточной изоляции. Они представляют собой ситуации, когда взаимодействие между транзакциями приводит к некорректным или неожиданным результатам.

- **Грязное Чтение**: Чтение **незафиксированных** данных, которые могут быть отменены.
- **Неповторяющееся Чтение**: Данные, прочитанные транзакцией, могут измениться другой транзакцией.
- **Фантомное Чтение**: Появление **новых строк** при повторном выполнении запроса
- **Lost Update (Потерянное обновление)**
Две транзакции одновременно обновляют одни и те же данные, но одна из транзакций "перезаписывает" результат другой, что приводит к потере обновлений.

1. Транзакция A: Читает баланс пользователя `UserID=1`, видит `100`.
2. Транзакция B: Читает баланс пользователя `UserID=1`, видит `100`.
3. Транзакция A: Уменьшает баланс на `20` и записывает `80`.
4. Транзакция B: Увеличивает баланс на `30` и записывает `130`

**Результат:** Итоговый баланс равен `130`, а изменения транзакции A (уменьшение на `20`) потеряны.



**Связь 1 к 1 (один к одному)** означает, что каждая строка в одной таблице связана **только с одной строкой** в другой таблице.

- **Разделение данных:**
    - Если данные одной таблицы редко используются, их можно вынести во вторую таблицу, чтобы сократить нагрузку на основную.
    - Пример: Разделение основных данных пользователей (`users`) и их конфиденциальных данных (например, паролей) в таблице `user_secrets`.
- **Семантическая группировка:**
    - Например, храним личные данные в одной таблице, а данные для авторизации — в другой.

https://stepik.org/course/63054/syllabus
https://sql-academy.org/ru/guide/database-types